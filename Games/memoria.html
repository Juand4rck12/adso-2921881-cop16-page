<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco-Memoria COP16 Colombia - SENA</title>
    <style>
        :root {
            --primary-color: #006633;
            --secondary-color: #009933;
            --background-color: #a0efa6;
            --text-color: #333;
            --card-color: #4caf50;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .content-wrapper {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
            text-align: center;
            position: relative;
        }

        .sena-logo {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 80px;
            opacity: 0.7;
        }

        h1 {
            color: var(--primary-color);
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        #game-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            width: 100%;
            margin: 20px auto;
        }

        .card {
            aspect-ratio: 1 / 1;
            perspective: 1000px;
            cursor: pointer;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front,
        .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .card-front {
            background-color: var(--card-color);
        }

        .card-back {
            background-color: white;
            transform: rotateY(180deg);
        }

        .card-back img {
            max-width: 80%;
            max-height: 80%;
        }

        #score,
        #timer {
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
        }

        button {
            margin-top: 20px;
            padding: 12px 24px;
            font-size: 1em;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #00802b;
        }

        #difficulty {
            margin-top: 20px;
        }

        select {
            padding: 8px;
            font-size: 1em;
            border-radius: 5px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            text-align: center;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        #tipText {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="content-wrapper">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Sena_Colombia_logo.svg/1200px-Sena_Colombia_logo.svg.png"
            alt="SENA logo" class="sena-logo">
        <h1>Eco-Memoria COP16 Colombia</h1>
        <div id="difficulty">
            <label for="level">Dificultad:</label>
            <select id="level">
                <option value="easy">Fácil</option>
                <option value="medium">Medio</option>
                <option value="hard">Difícil</option>
            </select>
        </div>
        <div id="game-container"></div>
        <div class="stats">
            <div id="score">Intentos: 0</div>
            <div id="timer">Tiempo: 0s</div>
        </div>
        <button id="restart">Reiniciar Juego</button>
    </div>

    <div id="tipModal" class="modal">
        <div class="modal-content">
            <p id="tipText"></p>
            <button id="closeTip">Cerrar</button>
        </div>
    </div>

    <script>
        const images = [
            {
                src: 'https://cdn-icons-png.flaticon.com/512/2719/2719880.png',
                tip: 'Planta un árbol en tu comunidad. Un solo árbol puede absorber hasta 22 kg de CO2 al año y proporcionar oxígeno para 2 personas.'
            },
            {
                src: 'https://cdn-icons-png.flaticon.com/512/869/869796.png',
                tip: 'Opta por energías renovables. Instalar paneles solares puede reducir tu huella de carbono hasta en un 80% y ahorrar en facturas de electricidad.'
            },
            {
                src: 'https://cdn-icons-png.flaticon.com/512/1598/1598402.png',
                tip: 'Recicla correctamente. Separa tus residuos en orgánicos, plásticos, papel y vidrio. Reciclar una tonelada de papel salva 17 árboles.'
            },
            {
                src: 'https://cdn-icons-png.flaticon.com/512/998/998507.png',
                tip: 'Conserva el agua. Cierra el grifo mientras te cepillas los dientes y ahorra hasta 12 litros por minuto. Repara las fugas: una gota por segundo desperdicia 30 litros al día.'
            },
            {
                src: 'https://cdn-icons-png.flaticon.com/512/4014/4014344.png',
                tip: 'Consume productos locales y de temporada. Reduces las emisiones asociadas al transporte y apoyas la economía local. Los alimentos locales son hasta un 17% más frescos.'
            },
            {
                src: 'https://cdn-icons-png.flaticon.com/512/6134/6134700.png',
                tip: 'Cambia a bombillas LED. Usan hasta un 75% menos de energía y duran 25 veces más que las incandescentes. Puedes ahorrar $75 al año por bombilla.'
            },
            {
                src: 'https://cdn-icons-png.flaticon.com/512/4357/4357574.png',
                tip: 'Usa la bicicleta para trayectos cortos. Reducirás emisiones y mejorarás tu salud. Andar en bicicleta 10 km al día ahorra 1.5 toneladas de CO2 al año.'
            },
            {
                src: 'https://cdn-icons-png.flaticon.com/512/1046/1046820.png',
                tip: 'Reduce tu consumo de carne. La producción de carne es responsable del 14.5% de las emisiones de gases de efecto invernadero. Un día sin carne a la semana puede reducir tu huella de carbono en un 8%.'
            }
        ];

        let cards = [];
        let selectedCards = [];
        let matchedPairs = 0;
        let attempts = 0;
        let timer;
        let seconds = 0;

        function shuffleCards(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function createBoard() {
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = '';
            shuffleCards(cards).forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.classList.add('card');
                cardElement.dataset.id = index;
                cardElement.dataset.image = card.src;

                const cardInner = document.createElement('div');
                cardInner.classList.add('card-inner');

                const cardFront = document.createElement('div');
                cardFront.classList.add('card-front');

                const cardBack = document.createElement('div');
                cardBack.classList.add('card-back');

                const img = document.createElement('img');
                img.src = card.src;
                cardBack.appendChild(img);

                cardInner.appendChild(cardFront);
                cardInner.appendChild(cardBack);
                cardElement.appendChild(cardInner);

                cardElement.addEventListener('click', flipCard);
                gameContainer.appendChild(cardElement);
            });
        }

        function flipCard() {
            if (selectedCards.length < 2 && !this.classList.contains('flipped')) {
                this.classList.add('flipped');
                selectedCards.push(this);

                if (selectedCards.length === 2) {
                    attempts++;
                    updateScore();
                    setTimeout(checkMatch, 1000);
                }
            }
        }

        function checkMatch() {
            const [card1, card2] = selectedCards;
            if (card1.dataset.image === card2.dataset.image) {
                card1.removeEventListener('click', flipCard);
                card2.removeEventListener('click', flipCard);
                matchedPairs++;
                showTip(card1.dataset.image);
                if (matchedPairs === cards.length / 2) {
                    clearInterval(timer);
                    setTimeout(() => {
                        alert(`¡Felicidades! Has completado el juego en ${seconds} segundos con ${attempts} intentos.`);
                    }, 500);
                }
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
            }
            selectedCards = [];
        }

        function showTip(imageSrc) {
            const tip = images.find(img => img.src === imageSrc).tip;
            document.getElementById('tipText').textContent = tip;
            document.getElementById('tipModal').style.display = 'block';
        }

        function updateScore() {
            document.getElementById('score').textContent = `Intentos: ${attempts}`;
        }

        function updateTimer() {
            seconds++;
            document.getElementById('timer').textContent = `Tiempo: ${seconds}s`;
        }

        function restartGame() {
            clearInterval(timer);
            seconds = 0;
            selectedCards = [];
            matchedPairs = 0;
            attempts = 0;
            updateScore();
            document.getElementById('timer').textContent = 'Tiempo: 0s';
            setDifficulty();
            createBoard();
            timer = setInterval(updateTimer, 1000);
        }

        function setDifficulty() {
            const level = document.getElementById('level').value;
            switch (level) {
                case 'easy':
                    cards = [...images, ...images];
                    document.getElementById('game-container').style.maxWidth = '600px';
                    break;
                case 'medium':
                    cards = [...images, ...images, ...images.slice(0, 4), ...images.slice(0, 4)];
                    document.getElementById('game-container').style.maxWidth = '700px';
                    break;
                case 'hard':
                    cards = [...images, ...images, ...images, ...images];
                    document.getElementById('game-container').style.maxWidth = '800px';
                    break;
            }
        }

        document.getElementById('restart').addEventListener('click', restartGame);
        document.getElementById('level').addEventListener('change', restartGame);
        document.getElementById('closeTip').addEventListener('click', () => {
            document.getElementById('tipModal').style.display = 'none';
        });

        setDifficulty();
        createBoard();
        timer = setInterval(updateTimer, 1000);
    </script>
</body>

</html>